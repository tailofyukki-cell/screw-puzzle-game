# 🧩 ネジ外しゲーム (Screw Puzzle Game)

ブラウザで遊べる「ネジ外しゲーム」です。円形・楕円形の木製プレートが重なり合い、プラスネジを外して下層を露出させるパズルゲームです。

## 🎮 ゲーム概要

重なり合った木製プレートからネジを外していくパズルゲームです。上位のプレートで覆われているネジは外せないため、正しい順序でネジを外していく必要があります。

### 主な特徴

- ✅ **無限ステージ生成**: クリアするたびに新しいステージが自動生成されます
- ✅ **難易度の視覚化**: ステージが進むにつれて木材の色が変化します
- ✅ **詰みなし保証**: 必ずクリア可能なステージのみが生成されます
- ✅ **サポートアイテム**: ヒント、露出チェック、ドリル、シャッフルの4種類
- ✅ **BGM/SEシステム**: 音楽と効果音でゲームを盛り上げます
- ✅ **レスポンシブ対応**: PC・スマホ両方で快適にプレイできます

## 🕹️ 遊び方

### 基本操作

1. **ネジをクリック/タップ**して外します
2. 上位のプレートで覆われているネジは外せません
3. プレートの**全ネジを外す**とプレートが消えます
4. **全プレートをクリア**するとステージクリアです

### サポートアイテム

| アイテム | 効果 |
|---------|------|
| 💡 ヒント | 外せるネジをハイライト表示 |
| 🔍 露出チェック | 選択したネジを覆っているプレートを強調表示 |
| 🔨 ドリル | 覆われていても1回だけ外せる |
| 🔄 シャッフル | 同難易度で再生成 |

ステージクリアごとに各アイテムが1つずつ付与されます。

## 🎨 難易度システム

ステージが進むにつれて以下の要素が強化されます:

- プレート枚数の増加
- ネジ数の増加
- 重なり密度のアップ
- 楕円プレートの比率増加
- ネジ配置の複雑化

### 木材色の変化

難易度に応じて木材の色が変化します:

- **ステージ 1-10**: 明るい木色 (#D4A574)
- **ステージ 11-30**: 標準的な茶色 (#A67C52)
- **ステージ 31-50**: 濃い茶色 (#8B5A3C)
- **ステージ 51+**: 焦げ茶 (#6B4423)

## 🔧 技術仕様

### 技術スタック

- **HTML5 / CSS3 / JavaScript (バニラ)**
- **Canvas API** による2D描画
- **Web Audio API** による音声生成
- **LocalStorage** による進行・設定保存

### ファイル構成

```
screw-puzzle-game/
├── index.html              # メインHTML
├── styles.css              # スタイルシート
├── js/
│   ├── main.js            # エントリーポイント
│   ├── gameEngine.js      # ゲームエンジン
│   ├── stageGenerator.js  # ステージ生成
│   ├── plateSystem.js     # プレート・ネジ管理
│   ├── collisionDetector.js # 重なり判定
│   ├── renderer.js        # Canvas描画
│   ├── audioManager.js    # BGM/SE管理
│   ├── itemManager.js     # アイテム管理
│   ├── pointSystem.js     # ポイント・広告(将来拡張)
│   └── storageManager.js  # ローカルストレージ管理
├── assets/
│   ├── audio/             # 音声ファイル(将来追加)
│   └── images/            # 画像ファイル(将来追加)
└── README.md              # このファイル
```

## 🚀 将来の拡張予定

このゲームは将来的に以下の機能を追加できるよう設計されています:

### ポイント・広告システム

- ステージクリアまたは広告視聴でポイント獲得
- ポイントでサポートアイテムを購入
- リワード広告の実装

### BGM/SEパック購入

- 複数のBGM/SEパックを用意
- ポイントで新しいパックを購入
- 現在実装済みのパック:
  - デフォルト (無料)
  - 作業場 (1000pt)
  - 自然 (1500pt)

### 拡張I/F

以下の関数が拡張用に用意されています:

```javascript
// ポイント付与(ダミー実装)
PointSystem.grantPoints(amount, reason)

// リワード広告リクエスト(ダミー実装)
PointSystem.requestRewardedAd(context)
```

## 📦 インストール・実行

### ローカルで実行

1. リポジトリをクローン:
   ```bash
   git clone https://github.com/YOUR_USERNAME/screw-puzzle-game.git
   cd screw-puzzle-game
   ```

2. ローカルサーバーを起動:
   ```bash
   # Pythonの場合
   python3 -m http.server 8000
   
   # Node.jsの場合
   npx http-server
   ```

3. ブラウザで開く:
   ```
   http://localhost:8000
   ```

### GitHub Pagesで公開

1. GitHubリポジトリを作成
2. ファイルをプッシュ
3. Settings > Pages > Source で `main` ブランチを選択
4. 公開URLにアクセス

## 🎯 受入基準

- [x] プラスネジが1回操作で外れる
- [x] 円/楕円の木製プレートが重なり合う
- [x] 覆われているネジは外せない
- [x] プレート解除で下層が露出する
- [x] 無限ステージ生成(詰みなし)
- [x] 木材色で難易度が視覚化される
- [x] デフォルトBGM/SEが動作する
- [x] BGM/SE購入を想定した拡張設計がある
- [ ] GitHub Pagesで公開されている (次のステップで実施)

## 📝 ライセンス

MIT License

## 👤 作者

100日チャレンジプロジェクト

---

**公開URL**: (GitHub Pages公開後に追加)
